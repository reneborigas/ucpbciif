<header class="app-header navbar">
    <ul class="nav navbar-nav ml-auto d-md-down-none" ng-controller="NavBarController">
        <li class="nav-item dropdown">
            <div class="dropdown">
                <div
                    class="topbar-item"
                    data-toggle="dropdown"
                    data-offset="20px,0px"
                    aria-expanded="false"
                    ng-click="loadNotifications(user)"
                >
                    <div class="btn btn-icon btn-clean btn-dropdown btn-lg mx-1 pulse pulse-primary">
                        <i class="fad fa-bells"></i>
                        <span class="pulse-ring"></span>
                        <span class="badge badge-pill badge-danger" ng-if="notifications.length > 0">
                            {{ notifications.length }}
                        </span>
                    </div>
                </div>
                <div class="dropdown-menu p-0 m-0 dropdown-menu-anim-up dropdown-menu-lg dropdown-menu-right">
                    <div
                        class="navi navi-hover scroll my-4 ps"
                        data-scroll="true"
                        data-height="300"
                        data-mobile-height="200"
                        style="height: 50px; overflow: hidden;"
                        ng-if="!notifications.length>0"
                    >
                        <div class="navi-text text-center pt-4">
                            <div class="font-weight-bold">No Active Notifications</div>
                        </div>
                    </div>
                    <div
                        class="navi navi-hover scroll my-4"
                        style="max-height: 300px; overflow-y: auto;"
                        ng-if="notifications.length > 0 && !notifClick"
                    >
                        <a
                            href="#"
                            ng-click="notifView(notification.id,notification.object_id,notification.content_type,notification.link)"
                            class="navi-item"
                            ng-repeat=" notification in notifications"
                        >
                            <div class="navi-link">
                                <div class="navi-icon mr-2">
                                    <i class="flaticon2-line-chart text-success"></i>
                                </div>
                                <div class="navi-text">
                                    <div class="font-weight-bold">{{ notification.message }}</div>

                                    <div class="text-muted">
                                        {{ notification.committeeName }} - {{ notification.positionName }}
                                    </div>
                                    <div class="text-muted">{{ notification.action_time | date:'medium' }}</div>
                                </div>
                            </div>
                        </a>

                        <div class="ps__rail-x" style="left: 0px; bottom: 0px;">
                            <div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div>
                        </div>
                        <div class="ps__rail-y" style="top: 0px; right: 0px;">
                            <div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 0px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </li>
        <li class="nav-item dropdown mr-8">
            <div class="dropdown">
                <div class="topbar-item" data-toggle="dropdown" data-offset="10px,0px" aria-expanded="false">
                    <div class="btn btn-icon btn-icon-mobile w-auto btn-clean d-flex align-items-center btn-lg px-2">
                        <div class="d-flex flex-column text-right">
                            <span class="font-weight-bold font-size-sm">{{ user.fullName }}</span>
                            <span class="font-size-sm" ng-if="user.account_type==2">
                                {{ user.committeePosition }}
                            </span>
                            <span class="font-size-sm" ng-if="user.account_type!=2">
                                {{ user.account_type_text }}
                            </span>
                        </div>
                        <div class="symbol symbol-35 symbol-info ml-2">
                            <span class="symbol-label font-size-h5">{{ user.fullName | limitTo: 1 }}</span>
                        </div>
                    </div>
                </div>
                <div class="dropdown-menu dropdown-menu-anim-up dropdown-menu-md dropdown-menu-right">
                    <div class="navi navi-hover">
                        <a href="" class="navi-item">
                            <div class="navi-link">
                                <div class="navi-icon mx-3 py-2">
                                    <i class="fad fa-user" style="color: lightskyblue;"></i>
                                </div>
                                <div class="navi-text">
                                    <div class="font-weight-bold">My Account</div>
                                </div>
                            </div>
                        </a>
                        <a href="" class="navi-item">
                            <div class="navi-link">
                                <div class="navi-icon mx-3 py-2">
                                    <i class="fad fa-envelope" style="color: darkorange;"></i>
                                </div>
                                <div class="navi-text">
                                    <div class="font-weight-bold">Messages</div>
                                </div>
                            </div>
                        </a>
                        <a href="" class="navi-item">
                            <div class="navi-link">
                                <div class="navi-icon mx-3 py-2">
                                    <i class="fad fa-tasks" style="color: olivedrab;"></i>
                                </div>
                                <div class="navi-text">
                                    <div class="font-weight-bold">Tasks</div>
                                </div>
                            </div>
                        </a>
                        <a href="" class="navi-item" ng-click="logout()">
                            <div class="navi-link">
                                <div class="navi-icon mx-3 py-2">
                                    <i class="fad fa-sign-out" style="color: red;"></i>
                                </div>
                                <div class="navi-text">
                                    <div class="font-weight-bold">Logout</div>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </li>
    </ul>
</header>
