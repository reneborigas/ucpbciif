<div class="row" ng-controller="BorrowerPrintController">
    <div class="col-lg-12">
        <div class="row mb-6">
            <div class="col-md-12">
                <div class="text-center">
                    <h2>UCBP-CIIF FINANCE AND DEVELOPMENT CORPORATION</h2>
                    <h2>17th Floor, UCPB Executive Building, 7907 Makati Avenue, Brgy. Bel Air, Makati City</h2>
                </div>
            </div>
        </div>
        <div class="row p-0">
            <div class="col-md-12">
                <div class="table-responsive text-right">
                    <table class="table table-borderless mb-6" ng-repeat="loan in loans">
                        <thead>
                            <tr>
                                <td colspan="8" class="text-center p-0">Statement of Account</td>
                            </tr>
                            <tr>
                                <td colspan="8" class="text-center p-0">{{ dateToday | date :'longDate' }}</td>
                            </tr>
                            <tr>
                                <td colspan="8"></td>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">ACCOUNT NAME:</td>
                                <td colspan="6" class="text-left p-0" colspan="5">{{ loan.borrower_name }}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">ADDRESS:</td>
                                <td colspan="6" class="text-left p-0" colspan="5">{{ loan.borrowerAddress }}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">WINDOW:</td>
                                <td colspan="6" class="text-left p-0" colspan="5">{{ loan.loanProgram_name }}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">PN #:</td>
                                <td colspan="6" class="text-left p-0" colspan="5">{{ loan.pnNo }}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">AMOUNT OF LOAN:</td>
                                <td colspan="6" class="text-left p-0" colspan="5">{{ loan.amount | currency :'â‚±' }}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">INTEREST RATE:</td>
                                <td colspan="6" class="text-left p-0" colspan="5">{{ loan.interestRate_amount }}%</td>
                            </tr>
                            <!-- <tr>
                                <td class="p-0">PAST DUE RATE:</td>
                                <td class="p-0" colspan="5">{{ loan.borrower_name }}</td>
                            </tr> -->
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">DATE RELEASED:</td>
                                <td colspan="6" class="text-left p-0">{{ loan.dateReleased | date:'mediumDate' }}</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td class="text-left p-0 ml-5">MATURITY DATE:</td>
                                <td colspan="6" class="text-left p-0">{{ loan.lastAmortizationItem.schedule | date:'mediumDate' }}</td>
                            </tr>
                            <tr>
                                <td colsan="8"></td>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr>
                                <td class="text-center p-0">DATE:</td>
                                <td class="text-center p-0">PARTICULARS:</td>
                                <td class="text-center p-0"># DAYS:</td>
                                <td class="text-center p-0">TOTAL:</td>
                                <td class="text-center p-0">INTEREST:</td>
                                <td class="text-center p-0">PENALTY:</td>
                                <td class="text-center p-0">PRINCIPAL:</td>
                                <td class="text-center p-0">PRIN. BALANCE:</td>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr>
                                <td class="text-center p-0">{{ amortization.schedule | date: 'd/M/yy' }}</td>
                                <td class="text-center p-0">BALANCE</td>
                                <td class="text-center p-0"></td>
                                <td class="text-right p-0"></td>
                                <td class="text-right p-0"></td>
                                <td class="text-right p-0"></td>
                                <td class="text-right p-0"></td>
                                <td class="text-right p-0">{{ loan.totalPrincipalBalance | number : '2' }}</td>
                            </tr>
                        </tbody>
                        <tbody>
                            <tr ng-repeat-start="amortization in loan.latestAmortization.amortizationItems track by $index">
                                <td class="text-center p-0">{{ amortization.schedule | date: 'd/M/yy' }}</td>
                                <td class="text-center p-0">AMOUNT DUE</td>
                                <td class="text-center p-0">{{ amortization.days }}</td>
                                <td class="text-right p-0">{{ amortization.total | number : '2' }}</td>
                                <td class="text-right p-0">{{ amortization.interest | number : '2' }}</td>
                                    <td class="text-right p-0"></td>
                                <td class="text-right p-0">{{ amortization.principal | number : '2' }}</td>
                                <td class="text-right p-0"></td>
                            </tr>
                            <tr ng-repeat-start="payment in amortization.payments">
                                <td class="text-center p-0">{{ amortization.schedule | date: 'd/M/yy' }}</td>
                                <td class="text-center p-0">ADD'L CHARGES</td>
                                <td class="text-center p-0">{{ payment.daysExceed }}</td>
                                <td class="text-right p-0">{{(payment.penaltyPayment*1 + payment.additionalInterest*1) | number : 2  }}</td>
                                <td class="text-right p-0">{{ payment.additionalInterest | number : '2' }}</td>
                                <td class="text-right p-0">{{ payment.penaltyPayment | number : '2' }}</td>
                                <td class="text-right p-0"></td>
                                
                                <td class="text-right p-0">{{ 0 | number : '2' }}</td>
                            </tr>
                            <tr>
                                <td class="text-center p-0"></td>
                                <td class="text-center p-0">AMOUNT DUE</td>
                                <td class="text-center p-0"></td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important">
                                    <span ng-bind=" (amortization.total +0) > 0 ? (0 | number : 2) : '-'"></span>
                                </td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important">
                                    <span ng-bind=" (amortization.interest + 0) > 0 ? ( 0 | number : 2 ) : '-'"></span>
                                </td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important"></td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important">
                                    <span ng-bind=" (amortization.principal + 0) > 0 ? (0 | number : 2 ) : '-'"></span>
                                </td>
                                <td class="text-right p-0"></td>
                            </tr>
                            <tr ng-repeat-end>
                                <td class="text-center p-0">  {{ payment.datePayment | date: 'd/M/yy' }} </td>
                                <td class="text-center p-0">PAYMENT</td>
                                <td class="text-center p-0"></td>
                                <td class="text-right p-0">
                                    <span>({{ payment.total | number : '2' }})</span>
                                </td>
                                <td class="text-right p-0">
                                    <span>({{ (payment.paidInterest*1 + payment.additionalInterest*1) | number : 2 }})</span>
                                    
                                </td>
                               
                                <td class="text-right p-0">
                                    <span>({{ payment.penaltyPayment | number : '2' }})</span>
                                </td>
                                <td class="text-right p-0">
                                    <span>({{ payment.principal | number : '2' }})</span>
                                </td>
                                <td class="text-right p-0">{{ amortization.currentPrincipalBalance | number : 2 }}</td>
                            </tr>
                            <!-- <tr ng-if="amortization.amortizationStatus_name=='BAYANIHAN'">
                                <td class="text-center p-0"></td>
                                <td class="text-center p-0">BAYANIHAN</td>
                                <td class="text-center p-0"></td>
                                <td class="text-right p-0">
                                    <span>-</span>
                                </td>
                                <td class="text-right p-0">
                                    <span>-</span>
                                </td>
                                <td class="text-right p-0"></td>
                                <td class="text-right p-0">
                                    <span>-</span>
                                </td>
                                <td class="text-right p-0">{{ amortization.currentPrincipalBalance| number : 2 }}</td>
                            </tr> -->
                            <tr ng-repeat-end>
                                <td class="text-center p-0"></td>
                                <td class="text-center p-0" ng-bind="$last ? 'BALANCE DUE' : 'BALANCE'"></td>
                                <td class="text-center p-0"></td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important">
                                    <span ng-bind="( amortization.balanceDueTotal ) > 0 ? ( amortization.balanceDueTotal | number: 2) : '-'"></span>
                                </td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important">
                                    <span
                                        ng-bind="( amortization.balanceDuePrincipal ) > 0 ? ( amortization.balanceDuePrincipal | number: 2): '-'"
                                    ></span>
                                </td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important"></td>
                                <td class="text-right p-0" style="border-top: 1pt solid #464e5f !important">
                                    <span
                                        ng-bind="( amortization.balanceDueInterest ) > 0 ? ( amortization.balanceDueInterest | number: 2) : '-'"
                                    ></span>
                                </td>
                                <td class="text-right p-0"></td>
                            </tr>
                        </tbody>
                        <!-- <tbody>
                            <tr style="border-top: 1pt solid #464e5f !important">
                                <td class="text-center" colspan="8">
                                    <div class="">
                                        <span class="text-dark-75">-- NOTHING FOLLOWS --</span>
                                    </div>
                                </td>
                            </tr>
                        </tbody> -->
                    </table>
                    <table class="table table-borderless">
                        <tbody>
                            <tr style="border-top: 1pt solid #464e5f !important">
                                <td class="text-center">
                                    <div class="">
                                        <span class="text-dark-75">-- NOTHING FOLLOWS --</span>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
